<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>RNE Visual | Serie A</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <meta name="description" content="Validador Gráfico del Reglamento Nacional de Edificaciones - Perú">
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
            mono: ['Roboto Mono', 'monospace'],
          },
          colors: {
            brand: {
              dark: '#0f172a',  // Slate 900
              blue: '#002855',  // Azul Baujaus
              red: '#DA291C',   // Rojo Alerta
              yellow: '#FFC72C',// Amarillo Resalte
              gray: '#f1f5f9'   // Fondo suave
            }
          },
          screens: {
            'xs': '375px', // Móvil pequeño
          }
        }
      }
    }
  </script>
 
  <style>
    /* ESTILOS GLOBALES */
    body { background-color: #f8fafc; -webkit-tap-highlight-color: transparent; }
    
    /* Transiciones de Vista */
    .view-section { display: none; opacity: 0; transition: opacity 0.3s ease; }
    .view-section.active { display: flex; opacity: 1; }
    
    /* Scroll Oculto pero funcional */
    .hide-scroll::-webkit-scrollbar { display: none; }
    .hide-scroll { -ms-overflow-style: none; scrollbar-width: none; }

    /* Tarjetas Interactivas */
    .norm-card { transition: transform 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94); }
    .norm-card:active { transform: scale(0.98); }
    
    /* Gráficos SVG */
    .svg-line { stroke-dasharray: 1000; stroke-dashoffset: 1000; animation: draw 2s forwards; }
    @keyframes draw { to { stroke-dashoffset: 0; } }
  </style>
</head>
<body class="text-slate-800 pb-20 md:pb-0">

  <nav class="fixed bottom-0 md:top-0 w-full bg-white/95 backdrop-blur-md border-t md:border-b border-slate-200 z-50 shadow-lg md:shadow-sm h-16 md:h-20 transition-all">
    <div class="max-w-7xl mx-auto h-full px-4 flex justify-between items-center md:justify-start md:gap-8">
      
      <div class="hidden md:flex items-center gap-3 cursor-pointer" onclick="navTo('home')">
        <div class="w-10 h-10 bg-brand-blue rounded-lg flex items-center justify-center text-white font-bold text-xl">R</div>
        <div>
           <h1 class="font-bold text-slate-900 leading-none tracking-tight">RNE VISUAL</h1>
           <p class="text-[10px] text-slate-500 font-mono">SERIE A: ARQUITECTURA</p>
        </div>
      </div>

      <button onclick="navTo('home')" class="md:hidden flex flex-col items-center gap-1 text-slate-400 hover:text-brand-blue active:text-brand-blue transition w-1/4">
        <i class="fa-solid fa-house text-xl"></i>
        <span class="text-[10px] font-medium">Inicio</span>
      </button>

      <button onclick="navTo('glossary')" class="flex flex-col items-center gap-1 text-slate-400 hover:text-brand-blue active:text-brand-blue transition w-1/4 md:w-auto md:flex-row md:gap-2">
        <i class="fa-solid fa-book-open text-xl md:text-base"></i>
        <span class="text-[10px] md:text-sm font-medium">Glosario G.040</span>
      </button>

      <button onclick="navTo('a010')" class="flex flex-col items-center gap-1 text-slate-400 hover:text-brand-blue active:text-brand-blue transition w-1/4 md:w-auto md:flex-row md:gap-2">
        <i class="fa-solid fa-ruler-combined text-xl md:text-base"></i>
        <span class="text-[10px] md:text-sm font-medium">Diseño A.010</span>
      </button>

      <button onclick="navTo('modules')" class="flex flex-col items-center gap-1 text-slate-400 hover:text-brand-blue active:text-brand-blue transition w-1/4 md:w-auto md:flex-row md:gap-2">
        <i class="fa-solid fa-layer-group text-xl md:text-base"></i>
        <span class="text-[10px] md:text-sm font-medium">Tipologías</span>
      </button>
      
    </div>
  </nav>

  <section id="view-home" class="view-section active min-h-screen pt-4 md:pt-24 px-4 max-w-5xl mx-auto flex-col">
    
    <div class="md:hidden mb-6 mt-2 flex items-center gap-3">
       <div class="w-12 h-12 bg-brand-blue rounded-xl flex items-center justify-center text-white font-bold text-2xl shadow-lg shadow-blue-900/20">R</div>
       <div>
         <h1 class="font-extrabold text-2xl text-slate-900 tracking-tight">RNE VISUAL</h1>
         <p class="text-xs text-slate-500 font-mono">Versión Beta 1.0 | Perú</p>
       </div>
    </div>

    <div class="relative w-full mb-8 group">
      <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
        <i class="fa-solid fa-magnifying-glass text-slate-400 group-focus-within:text-brand-blue transition"></i>
      </div>
      <input type="text" id="globalSearch" onkeyup="filterGlossary(this.value)" 
             class="block w-full pl-11 pr-4 py-4 bg-white border border-slate-200 rounded-2xl text-sm md:text-base shadow-sm focus:ring-2 focus:ring-brand-blue focus:border-brand-blue transition-all outline-none" 
             placeholder="Buscar término (Ej: Área Techada, Pozo de luz...)">
      <div class="absolute inset-y-0 right-0 pr-4 flex items-center">
        <span class="text-[10px] bg-slate-100 text-slate-500 px-2 py-1 rounded border border-slate-200">G.040 / A.010</span>
      </div>
    </div>

    <h2 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 ml-1">Normativa Vigente</h2>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
      
      <div onclick="navTo('a010')" class="norm-card bg-white p-5 rounded-2xl border border-slate-100 shadow-sm cursor-pointer relative overflow-hidden group">
        <div class="absolute top-0 right-0 w-16 h-16 bg-brand-blue/5 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"></div>
        <i class="fa-solid fa-pen-ruler text-2xl text-brand-blue mb-3"></i>
        <h3 class="font-bold text-slate-800 text-sm md:text-base">A.010</h3>
        <p class="text-[10px] text-slate-500 leading-tight mt-1">Condiciones Generales de Diseño</p>
      </div>

      <div onclick="alert('Fase 3: En desarrollo. Carga normativa A.020 Vivienda.')" class="norm-card bg-slate-50 p-5 rounded-2xl border border-slate-100 cursor-pointer opacity-75 hover:opacity-100">
        <i class="fa-solid fa-house-chimney text-2xl text-slate-400 mb-3"></i>
        <h3 class="font-bold text-slate-700 text-sm md:text-base">A.020</h3>
        <p class="text-[10px] text-slate-500 leading-tight mt-1">Vivienda (Próximamente)</p>
      </div>

      <div onclick="alert('Fase 3: En desarrollo. Carga normativa A.120 Accesibilidad.')" class="norm-card bg-slate-50 p-5 rounded-2xl border border-slate-100 cursor-pointer opacity-75 hover:opacity-100">
        <i class="fa-brands fa-accessible-icon text-2xl text-slate-400 mb-3"></i>
        <h3 class="font-bold text-slate-700 text-sm md:text-base">A.120</h3>
        <p class="text-[10px] text-slate-500 leading-tight mt-1">Accesibilidad Universal</p>
      </div>

      <div onclick="alert('Herramienta transversal de Seguridad INDECI.')" class="norm-card bg-slate-50 p-5 rounded-2xl border border-slate-100 cursor-pointer opacity-75 hover:opacity-100">
        <i class="fa-solid fa-fire-extinguisher text-2xl text-slate-400 mb-3"></i>
        <h3 class="font-bold text-slate-700 text-sm md:text-base">A.130</h3>
        <p class="text-[10px] text-slate-500 leading-tight mt-1">Seguridad y Evacuación</p>
      </div>

    </div>

    <div id="homeGlossaryResults" class="hidden">
       <h2 class="text-xs font-bold text-brand-blue uppercase tracking-widest mb-4 ml-1">Resultados de Búsqueda</h2>
       <div id="searchResultsList" class="space-y-3"></div>
    </div>

  </section>

  <section id="view-glossary" class="view-section min-h-screen pt-4 md:pt-24 px-4 max-w-4xl mx-auto flex-col pb-24">
    <div class="mb-6">
      <h2 class="text-2xl font-bold text-slate-900">Glosario Visual</h2>
      <p class="text-xs text-slate-500 mt-1">Definiciones gráficas según Norma A.010 y G.040.</p>
    </div>

    <div id="glossaryContainer" class="grid grid-cols-1 md:grid-cols-2 gap-4">
      </div>
  </section>

  <section id="view-a010" class="view-section min-h-screen pt-4 md:pt-24 px-4 max-w-5xl mx-auto flex-col pb-24">
    <div class="flex items-center justify-between mb-6">
      <div>
        <h2 class="text-2xl font-bold text-slate-900">Norma A.010</h2>
        <p class="text-xs text-slate-500 mt-1">Calculadoras de Diseño General (RM 191-2021)</p>
      </div>
    </div>

    <div class="grid md:grid-cols-2 gap-6">
       <div class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
          <div class="bg-slate-900 p-6 flex flex-col items-center justify-center relative">
             <i class="fa-solid fa-stairs text-4xl text-brand-yellow mb-2"></i>
             <span class="text-white font-bold tracking-wider text-sm">CIRCULACIÓN VERTICAL</span>
             <div class="absolute bottom-2 right-4 text-[10px] text-slate-400 font-mono">Art. 23 - 25</div>
          </div>
          <div class="p-6">
             <p class="text-xs text-slate-600 mb-4 leading-relaxed">
               Validador de pasos, contrapasos y anchos mínimos según uso (Vivienda, Salud, Comercio).
             </p>
             <button onclick="alert('Aquí cargará el módulo de Escaleras (Fase 2)')" class="w-full py-3 bg-brand-blue text-white rounded-xl text-xs font-bold hover:bg-blue-900 transition">
               ABRIR CALCULADORA
             </button>
          </div>
       </div>

       <div class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
          <div class="bg-slate-900 p-6 flex flex-col items-center justify-center relative">
             <i class="fa-solid fa-car text-4xl text-brand-red mb-2"></i>
             <span class="text-white font-bold tracking-wider text-sm">ESTACIONAMIENTOS</span>
             <div class="absolute bottom-2 right-4 text-[10px] text-slate-400 font-mono">Art. 53 - 54</div>
          </div>
          <div class="p-6">
             <p class="text-xs text-slate-600 mb-4 leading-relaxed">
               Cálculo de anchos de cajón y calles de maniobra según ángulo de giro (Gráfico D).
             </p>
             <button onclick="alert('Aquí cargará el módulo de Estacionamientos (Fase 2)')" class="w-full py-3 bg-brand-blue text-white rounded-xl text-xs font-bold hover:bg-blue-900 transition">
               ABRIR CALCULADORA
             </button>
          </div>
       </div>
    </div>
  </section>

  <script>
    /* -----------------------------------------------------------
       BASE DE DATOS NORMATIVA (FUENTE: RM 191-2021 A.010)
       NO INVENTAR DATOS. CITAS EXACTAS.
       ----------------------------------------------------------- */
    const GLOSSARY_DB = [
      {
        term: "Área Techada",
        source: "Norma A.010, Art. 9",
        def: "Es el área encerrada por el perímetro de la edificación. Incluye muros, estructura de la envolvente y ductos de ventilación. <br><strong>NO incluye:</strong> Aleros, balcones sin techo, jardineras, pérgolas, ni cisternas.",
        category: "Dimensiones",
        icon: "fa-vector-square"
      },
      {
        term: "Área Libre",
        source: "Norma A.010, Art. 9.5",
        def: "Superficie resultante sobre la cual no existen proyecciones de áreas techadas. Incluye ductos de instalaciones y espacios para juntas con colindantes. <br><strong>NO incluye:</strong> El ducto del ascensor.",
        category: "Dimensiones",
        icon: "fa-expand"
      },
      {
        term: "Altura de Edificación",
        source: "Norma A.010, Art. 10.1",
        def: "Se mide desde el punto más alto de la vereda del frente del lote. En caso no exista vereda, desde el nivel de calzada + 0.15 m. <br><strong>En pendientes:</strong> Se mide sobre la línea imaginaria que une el punto más alto del lindero frontal con el posterior.",
        category: "Dimensiones",
        icon: "fa-arrows-up-down"
      },
      {
        term: "Retiro Normativo",
        source: "Norma A.010, Art. 8",
        def: "Distancia mínima libre entre el límite de propiedad y el límite de la edificación. Pueden ser Frontales, Laterales o Posteriores. Permiten privacidad y seguridad.",
        category: "Urbanismo",
        icon: "fa-ruler-horizontal"
      },
      {
        term: "Ochavo",
        source: "Norma A.010, Art. 12",
        def: "Recorte en diagonal en esquinas de intersección de vías (una < 3.00m de calzada). <br><strong>Requisito:</strong> Longitud mínima de 3.00 m. Debe estar libre de obstáculos hasta 2.30 m de altura.",
        category: "Urbanismo",
        icon: "fa-road"
      },
      {
        term: "Escalera Protegida",
        source: "Norma A.010, Art. 25",
        def: "Escalera a prueba de fuego y humos. <br><strong>Requisito:</strong> Muros resistentes al fuego, puertas cierrapuertas, y no puede tener otro uso dentro de la caja.",
        category: "Evacuación",
        icon: "fa-person-running"
      },
      {
        term: "Pozo de Luz",
        source: "Norma A.010, Art. 19 / 38",
        def: "Espacio para iluminación y ventilación natural. <br><strong>Regla:</strong> Los elementos de ventilación deben tener un área no menor al 5% de la superficie de la habitación que ventilan.",
        category: "Habitabilidad",
        icon: "fa-sun"
      }
    ];

    /* -----------------------------------------------------------
       LÓGICA DE NAVEGACIÓN
       ----------------------------------------------------------- */
    function navTo(viewId) {
       // Ocultar todas
       document.querySelectorAll('.view-section').forEach(el => {
          el.classList.remove('active');
          el.classList.add('hidden');
       });
       
       // Mostrar target
       const target = document.getElementById('view-' + viewId);
       if(target) {
          target.classList.remove('hidden');
          // Pequeño delay para la opacidad (transición suave)
          setTimeout(() => target.classList.add('active'), 10);
       }
       
       // Scroll top
       window.scrollTo(0,0);
    }

    /* -----------------------------------------------------------
       LÓGICA GLOSARIO
       ----------------------------------------------------------- */
    function renderGlossary(data) {
       const container = document.getElementById('glossaryContainer');
       container.innerHTML = data.map(item => `
          <div class="bg-white p-5 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow">
             <div class="flex items-start justify-between mb-3">
                <div class="flex items-center gap-3">
                   <div class="w-8 h-8 rounded-full bg-slate-50 flex items-center justify-center text-brand-blue">
                      <i class="fa-solid ${item.icon}"></i>
                   </div>
                   <h3 class="font-bold text-slate-800">${item.term}</h3>
                </div>
                <span class="text-[10px] bg-slate-100 text-slate-500 px-2 py-1 rounded font-mono">${item.category}</span>
             </div>
             <p class="text-xs text-slate-600 leading-relaxed mb-3 border-l-2 border-brand-yellow pl-3">
                ${item.def}
             </p>
             <div class="text-[10px] text-brand-blue font-bold flex items-center gap-1">
                <i class="fa-solid fa-book"></i> ${item.source}
             </div>
          </div>
       `).join('');
    }

    /* -----------------------------------------------------------
       LÓGICA BUSCADOR
       ----------------------------------------------------------- */
    function filterGlossary(query) {
       const q = query.toLowerCase();
       const resultsDiv = document.getElementById('homeGlossaryResults');
       const listDiv = document.getElementById('searchResultsList');
       
       if (q.length < 2) {
          resultsDiv.classList.add('hidden');
          return;
       }
       
       const filtered = GLOSSARY_DB.filter(item => 
          item.term.toLowerCase().includes(q) || 
          item.def.toLowerCase().includes(q)
       );

       if (filtered.length > 0) {
          resultsDiv.classList.remove('hidden');
          listDiv.innerHTML = filtered.map(item => `
             <div class="bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex flex-col gap-2 cursor-pointer" onclick="navTo('glossary')">
                <div class="flex justify-between">
                   <span class="font-bold text-slate-800 text-sm">${item.term}</span>
                   <span class="text-[10px] text-slate-400 font-mono">${item.source}</span>
                </div>
                <p class="text-xs text-slate-500 line-clamp-2">${item.def}</p>
             </div>
          `).join('');
       } else {
          resultsDiv.classList.remove('hidden');
          listDiv.innerHTML = `<div class="text-center p-4 text-xs text-slate-400">No se encontraron definiciones para "${query}"</div>`;
       }
    }

    /* -----------------------------------------------------------
       INICIALIZACIÓN
       ----------------------------------------------------------- */
    window.addEventListener('load', () => {
       renderGlossary(GLOSSARY_DB);
       navTo('home'); // Vista inicial
    });

  </script>
</body>
</html>
