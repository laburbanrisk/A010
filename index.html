<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>RNE Visual | Glosario G.040</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'sans-serif'], mono: ['Roboto Mono', 'monospace'] },
          colors: {
            brand: { dark: '#0f172a', blue: '#002855', red: '#DA291C', yellow: '#FFC72C', gray: '#f8fafc' }
          }
        }
      }
    }
  </script>

  <style>
    /* UI TWEAKS */
    body { background-color: #f1f5f9; -webkit-font-smoothing: antialiased; }
    .svg-draw { stroke-dasharray: 1000; stroke-dashoffset: 1000; animation: draw 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards; }
    @keyframes draw { to { stroke-dashoffset: 0; } }
    
    /* Select Personalizado */
    select { appearance: none; background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23002855%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E"); background-repeat: no-repeat; background-position: right 1rem center; background-size: 0.8rem auto; }
  </style>
</head>
<body class="pb-24 md:pb-0 bg-slate-100 text-slate-800">

  <nav class="fixed top-0 w-full bg-white/95 backdrop-blur z-50 border-b border-slate-200 shadow-sm h-16 flex items-center justify-between px-4 lg:px-8">
     <div class="flex items-center gap-3">
        <div class="w-8 h-8 bg-brand-blue rounded text-white flex items-center justify-center font-bold">G</div>
        <div>
           <h1 class="font-bold text-slate-900 leading-none text-sm md:text-base">NORMA G.040</h1>
           <p class="text-[10px] text-slate-500 font-mono">DEFINICIONES RNE</p>
        </div>
     </div>
     <div class="hidden md:flex gap-4 text-xs font-bold text-slate-500">
        <span class="text-brand-blue"><i class="fa-solid fa-check-circle"></i> VIGENTE 2026</span>
     </div>
  </nav>

  <main class="max-w-3xl mx-auto mt-20 p-4 min-h-screen flex flex-col">
    
    <div class="bg-white p-4 rounded-2xl shadow-sm border border-slate-200 sticky top-20 z-40 mb-6">
       <label class="block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2">Seleccione un Término (A-Z)</label>
       <div class="relative">
          <select id="termSelector" onchange="loadTerm(this.value)" class="w-full p-4 pr-10 bg-slate-50 border border-slate-200 rounded-xl text-brand-blue font-bold text-sm md:text-lg focus:ring-2 focus:ring-brand-blue outline-none transition-all shadow-inner">
             <option value="">-- Buscar en el Glosario --</option>
             </select>
       </div>
       <div class="mt-2 flex justify-between text-[10px] text-slate-400 font-mono">
          <span>Total: <span id="termCount">0</span> términos</span>
          <span>Fuente: RM N° 029-2021-VIVIENDA</span>
       </div>
    </div>

    <div id="defCard" class="flex-1 bg-white rounded-3xl shadow-xl border border-slate-200 overflow-hidden relative hidden opacity-0 transition-opacity duration-500">
       
       <div class="bg-slate-900 p-6 md:p-8 relative overflow-hidden">
          <div class="absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full blur-2xl -mr-10 -mt-10"></div>
          <div class="relative z-10">
             <span id="defCat" class="inline-block px-2 py-1 rounded bg-brand-yellow/20 text-brand-yellow text-[10px] font-bold uppercase tracking-widest mb-2 border border-brand-yellow/30">Concepto</span>
             <h2 id="defTitle" class="text-3xl md:text-4xl font-bold text-white mb-2 font-heading tracking-tight">Título</h2>
             <p class="text-slate-400 text-xs font-mono" id="defId">ARTÍCULO 1</p>
          </div>
       </div>

       <div class="p-6 md:p-8">
          
          <div id="graphicContainer" class="w-full bg-slate-50 rounded-2xl border border-slate-100 mb-6 flex items-center justify-center p-4 relative overflow-hidden min-h-[200px]">
             <div class="text-center text-slate-300">
                <i class="fa-solid fa-image text-4xl mb-2"></i>
                <p class="text-xs">Sin gráfico asociado</p>
             </div>
          </div>

          <div class="prose prose-slate max-w-none">
             <p id="defText" class="text-sm md:text-base text-slate-600 leading-relaxed font-medium">
                Seleccione un término para ver su definición.
             </p>
          </div>

          <div class="mt-8 pt-6 border-t border-slate-100 flex items-center gap-2 text-[10px] text-slate-400">
             <i class="fa-solid fa-triangle-exclamation"></i>
             <span>Interpretación sujeta al contexto del proyecto específico.</span>
          </div>

       </div>
    </div>

    <div id="emptyState" class="flex-1 flex flex-col items-center justify-center text-center p-10 opacity-60">
       <i class="fa-solid fa-book-open-reader text-6xl text-slate-300 mb-4"></i>
       <h3 class="text-lg font-bold text-slate-500">Glosario Técnico G.040</h3>
       <p class="text-sm text-slate-400 max-w-xs mx-auto">Seleccione un término de la barra superior para visualizar su definición y gráfico normativo.</p>
    </div>

  </main>

  <script>
    /* -------------------------------------------------------------
       BASE DE DATOS COMPLETA (Extracto Representativo A-Z)
       ------------------------------------------------------------- */
    const G040_DB = [
      {
        id: "acabados",
        term: "Acabados",
        cat: "Constructivo",
        def: "Materiales que se instalan o forman parte del recubrimiento final en una infraestructura y que se encuentran integradas a ella, con el fin de darles condiciones de uso y habitabilidad.",
        hasGraphic: false
      },
      {
        id: "accesibilidad",
        term: "Accesibilidad",
        cat: "Funcional",
        def: "Condición de acceso que presta la infraestructura urbanística y edificatoria para facilitar la movilidad y el desplazamiento autónomo de las personas, en condiciones de seguridad.",
        hasGraphic: true,
        graphicType: "icon",
        icon: "fa-wheelchair"
      },
      {
        id: "alero",
        term: "Alero",
        cat: "Arquitectónico",
        def: "Parte del techo que sobresale de un muro o elemento de soporte. No se considera para el cálculo del área techada ni del área libre, salvo que sea accesible.",
        hasGraphic: true,
        graphicType: "svg",
        svg: `<svg viewBox="0 0 200 150" class="w-full h-48"><path d="M40 100 L40 40 L160 40 L160 100" fill="#cbd5e1"/><rect x="30" y="30" width="140" height="10" fill="#002855"/><rect x="160" y="30" width="30" height="10" fill="#DA291C" opacity="0.8"/><text x="175" y="20" font-size="10" text-anchor="middle" fill="#DA291C">ALERO</text><line x1="160" y1="40" x2="190" y2="40" stroke="#DA291C" stroke-dasharray="2,2"/><text x="100" y="80" font-size="12" fill="#64748b" text-anchor="middle">EDIFICACIÓN</text></svg>`
      },
      {
        id: "altura",
        term: "Altura de Edificación",
        cat: "Dimensiones",
        def: "Dimensión vertical de una edificación. Se mide desde el punto más alto de la vereda del frente del lote hasta el punto más alto del techo del último piso. En terrenos en pendiente, se mide sobre la línea imaginaria que une el nivel de vereda con el fondo.",
        hasGraphic: true,
        graphicType: "svg",
        svg: `<svg viewBox="0 0 200 150" class="w-full h-48"><path d="M20 130 L180 130" stroke="#334155" stroke-width="2"/><rect x="60" y="50" width="80" height="80" fill="#cbd5e1" stroke="#94a3b8"/><line x1="150" y1="130" x2="150" y2="50" stroke="#DA291C" stroke-width="2" marker-end="url(#arrow)"/><text x="160" y="90" fill="#DA291C" font-size="12" font-weight="bold">H. MAX</text><rect x="20" y="125" width="40" height="5" fill="#94a3b8"/><text x="40" y="145" font-size="10" text-anchor="middle" fill="#64748b">Vereda</text></svg>`
      },
      {
        id: "area_libre",
        term: "Área Libre",
        cat: "Dimensiones",
        def: "Superficie de terreno donde no existen proyecciones de áreas techadas. Se calcula restando el área techada del primer piso al área total del lote.",
        hasGraphic: true,
        graphicType: "svg",
        svg: `<svg viewBox="0 0 200 150" class="w-full h-48"><rect x="50" y="30" width="100" height="90" fill="#e2e8f0" stroke="#334155"/><rect x="50" y="30" width="60" height="90" fill="#002855" opacity="0.2"/><text x="80" y="75" font-size="10" fill="#002855" font-weight="bold">TECHADO</text><text x="130" y="75" font-size="10" fill="#16a34a" font-weight="bold">LIBRE</text><path d="M110 30 L150 30 L150 120 L110 120 Z" fill="url(#pattern-grass)"/></svg>`
      },
      {
        id: "area_techada",
        term: "Área Techada",
        cat: "Dimensiones",
        def: "Suma de las superficies techadas. Se calcula considerando la proyección de los techos y muros. No incluye aleros, ductos de ventilación ni espacios de doble altura (vacíos).",
        hasGraphic: false
      },
      {
        id: "azotea",
        term: "Azotea",
        cat: "Arquitectónico",
        def: "Nivel accesible encima del último piso techado. Puede tener construcciones ligeras o zonas de recreación, siempre que no excedan el porcentaje de área techada permitido por la norma específica.",
        hasGraphic: false
      },
      {
        id: "ducto",
        term: "Ducto",
        cat: "Instalaciones",
        def: "Conducto técnico vertical u horizontal destinado a alojar instalaciones (tuberías, cableado) o para ventilación e iluminación.",
        hasGraphic: true,
        graphicType: "icon",
        icon: "fa-wind"
      },
      {
        id: "equipamiento",
        term: "Equipamiento Urbano",
        cat: "Urbanismo",
        def: "Edificaciones destinadas a recreación, salud, educación, cultura, transporte, comunicaciones, seguridad, administración, comercio y otros servicios básicos.",
        hasGraphic: false
      },
      {
        id: "estacionamiento",
        term: "Estacionamiento",
        cat: "Funcional",
        def: "Espacio destinado a la permanencia temporal de vehículos. Sus dimensiones dependen del tipo de uso (Privado/Público) y disposición.",
        hasGraphic: true,
        graphicType: "icon",
        icon: "fa-car"
      },
      {
        id: "limite_propiedad",
        term: "Límite de Propiedad",
        cat: "Legal",
        def: "Línea que define el perímetro del lote y lo separa de la vía pública o de otros predios colindantes.",
        hasGraphic: false
      },
      {
        id: "lote_esquina",
        term: "Lote en Esquina",
        cat: "Urbanismo",
        def: "Predio ubicado en la intersección de dos vías. Requiere tratamiento de ochavo en el encuentro de los límites con la vía.",
        hasGraphic: true,
        graphicType: "svg",
        svg: `<svg viewBox="0 0 200 150" class="w-full h-48"><rect x="50" y="40" width="100" height="80" fill="#e2e8f0"/><path d="M50 40 L50 110 L140 110 L150 100 L150 40 Z" fill="#002855" stroke="#334155"/><circle cx="145" cy="105" r="5" fill="#DA291C"/><text x="160" y="120" font-size="10" fill="#DA291C">OCHAVO</text><text x="30" y="80" font-size="10" fill="#64748b" transform="rotate(-90 30,80)">VÍA A</text><text x="100" y="140" font-size="10" fill="#64748b">VÍA B</text></svg>`
      },
      {
        id: "mezanine",
        term: "Mezanine",
        cat: "Arquitectónico",
        def: "Piso habitable que no techa la totalidad del piso inferior, creando un espacio a doble altura. Su área no debe exceder un porcentaje del piso inferior.",
        hasGraphic: false
      },
      {
        id: "muro_cortafuego",
        term: "Muro Cortafuego",
        cat: "Seguridad",
        def: "Paramento con resistencia al fuego (RF) certificada, diseñado para impedir la propagación del fuego entre ambientes o edificaciones.",
        hasGraphic: true,
        graphicType: "icon",
        icon: "fa-fire-extinguisher"
      },
      {
        id: "ochavo",
        term: "Ochavo",
        cat: "Urbanismo",
        def: "Recorte en diagonal (chaflán) en el lote en esquina de dos vías vehiculares. La longitud mínima del ochavo debe ser de 3.00 m medidos sobre la hipotenusa.",
        hasGraphic: true,
        graphicType: "svg",
        svg: `<svg viewBox="0 0 200 150" class="w-full h-48"><path d="M40 120 L160 120 L160 40" fill="none" stroke="#94a3b8" stroke-width="20" opacity="0.3"/><path d="M80 80 L120 80 L140 60 L140 20" fill="none" stroke="#002855" stroke-width="2"/><line x1="120" y1="80" x2="140" y2="60" stroke="#DA291C" stroke-width="3"/><text x="135" y="85" font-size="12" fill="#DA291C" font-weight="bold">3.00m</text></svg>`
      },
      {
        id: "paramento",
        term: "Paramento",
        cat: "Arquitectónico",
        def: "Superficie vertical de un muro o elemento de cierre. Puede ser exterior (fachada) o interior.",
        hasGraphic: false
      },
      {
        id: "pozo_luz",
        term: "Pozo de Luz",
        cat: "Habitabilidad",
        def: "Espacio libre interior destinado a iluminación y ventilación natural. Sus dimensiones mínimas dependen de la altura de la edificación y el uso de los ambientes que ventilan.",
        hasGraphic: true,
        graphicType: "icon",
        icon: "fa-sun"
      },
      {
        id: "retiro",
        term: "Retiro",
        cat: "Urbanismo",
        def: "Distancia obligatoria entre el límite de propiedad y el inicio de la edificación. Puede ser utilizado para jardines o estacionamientos según la zonificación.",
        hasGraphic: true,
        graphicType: "svg",
        svg: `<svg viewBox="0 0 200 150" class="w-full h-48"><rect x="20" y="100" width="160" height="20" fill="#94a3b8"/><rect x="80" y="40" width="60" height="60" fill="#002855"/><line x1="80" y1="100" x2="80" y2="120" stroke="white"/><text x="50" y="115" font-size="10" fill="white">VEREDA</text><line x1="80" y1="70" x2="20" y2="70" stroke="#DA291C" marker-end="url(#arrow)"/><text x="40" y="65" font-size="10" fill="#DA291C">RETIRO</text></svg>`
      },
      {
        id: "semisotano",
        term: "Semisótano",
        cat: "Arquitectónico",
        def: "Parte de la edificación cuyo techo se encuentra a no más de 1.50 m por encima del nivel medio de la vereda.",
        hasGraphic: false
      },
      {
        id: "sotano",
        term: "Sótano",
        cat: "Arquitectónico",
        def: "Piso situado bajo el nivel del suelo. Su techo no sobresale más de 0.50 m del nivel de vereda, o está totalmente enterrado.",
        hasGraphic: true,
        graphicType: "icon",
        icon: "fa-arrow-down"
      },
      {
        id: "uso_permisible",
        term: "Uso Permisible",
        cat: "Legal",
        def: "Actividad compatible con la zonificación asignada al predio, según el Índice de Usos para la Ubicación de Actividades Urbanas.",
        hasGraphic: false
      },
      {
        id: "ventilacion_natural",
        term: "Ventilación Natural",
        cat: "Habitabilidad",
        def: "Renovación de aire lograda por medios naturales a través de vanos hacia áreas libres (patios, calle, retiros). El área de vano no debe ser menor al 5% del área del ambiente.",
        hasGraphic: true,
        graphicType: "icon",
        icon: "fa-wind"
      },
      {
        id: "via",
        term: "Vía",
        cat: "Urbanismo",
        def: "Espacio público destinado al tránsito de vehículos y personas. Incluye la calzada, veredas, bermas y separadores.",
        hasGraphic: false
      },
      {
        id: "vivienda_unifamiliar",
        term: "Vivienda Unifamiliar",
        cat: "Tipología",
        def: "Unidad de vivienda sobre un lote único, diseñada para el uso de una sola familia.",
        hasGraphic: true,
        graphicType: "icon",
        icon: "fa-house-user"
      },
      {
        id: "vivienda_multifamiliar",
        term: "Vivienda Multifamiliar",
        cat: "Tipología",
        def: "Edificación que alberga dos o más unidades de vivienda superpuestas, compartiendo accesos y servicios comunes.",
        hasGraphic: true,
        graphicType: "icon",
        icon: "fa-building"
      },
      {
        id: "zonificacion",
        term: "Zonificación",
        cat: "Urbanismo",
        def: "Instrumento técnico normativo de gestión urbana que regula el uso del suelo y las normas de edificación en función de las demandas físicas, económicas y sociales.",
        hasGraphic: true,
        graphicType: "svg",
        svg: `<svg viewBox="0 0 200 150" class="w-full h-48"><rect x="20" y="20" width="60" height="60" fill="#facc15" stroke="#ca8a04"/><text x="50" y="55" font-size="12" text-anchor="middle" fill="#854d0e">RDM</text><rect x="90" y="20" width="60" height="60" fill="#f87171" stroke="#b91c1c"/><text x="120" y="55" font-size="12" text-anchor="middle" fill="#7f1d1d">CV</text><rect x="20" y="90" width="130" height="40" fill="#4ade80" stroke="#15803d"/><text x="85" y="115" font-size="12" text-anchor="middle" fill="#14532d">ZRP</text></svg>`
      }
    ];

    /* -------------------------------------------------------------
       LOGICA DE LA APP
       ------------------------------------------------------------- */
    
    // Referencias DOM
    const select = document.getElementById('termSelector');
    const defCard = document.getElementById('defCard');
    const emptyState = document.getElementById('emptyState');
    
    // Elementos de la Tarjeta
    const ui = {
       title: document.getElementById('defTitle'),
       text: document.getElementById('defText'),
       cat: document.getElementById('defCat'),
       graphicBox: document.getElementById('graphicContainer')
    };

    // Inicialización: Poblar Select
    window.onload = function() {
       // Ordenar alfabéticamente
       const sortedDB = G040_DB.sort((a,b) => a.term.localeCompare(b.term));
       
       // Poblar options
       sortedDB.forEach(item => {
          const opt = document.createElement('option');
          opt.value = item.id;
          opt.innerText = item.term;
          select.appendChild(opt);
       });

       document.getElementById('termCount').innerText = sortedDB.length;
    };

    // Cargar Término
    function loadTerm(id) {
       if(!id) {
          defCard.classList.add('hidden', 'opacity-0');
          emptyState.classList.remove('hidden');
          return;
       }

       const data = G040_DB.find(x => x.id === id);
       if(!data) return;

       // Ocultar Empty State / Mostrar Card
       emptyState.classList.add('hidden');
       defCard.classList.remove('hidden');
       
       // Animación suave de entrada
       setTimeout(() => defCard.classList.remove('opacity-0'), 50);

       // Inyectar Datos
       ui.title.innerText = data.term;
       ui.text.innerText = data.def;
       ui.cat.innerText = data.cat;
       
       // Renderizar Gráfico
       renderGraphic(data);
    }

    // Lógica de Gráficos (SVG o Icono)
    function renderGraphic(data) {
       const box = ui.graphicBox;
       box.innerHTML = ''; // Limpiar

       if (!data.hasGraphic) {
          box.classList.add('hidden'); // Ocultar si no hay gráfico
          return;
       }
       
       box.classList.remove('hidden');

       if (data.graphicType === 'svg') {
          // Inyectar SVG puro
          box.innerHTML = data.svg;
          // Añadir animación a los paths si existen
          const paths = box.querySelectorAll('path, line, rect');
          paths.forEach((p, i) => {
             p.style.animation = `fadeIn 0.5s ease forwards ${i * 0.1}s`;
             p.style.opacity = '0';
          });
       } else if (data.graphicType === 'icon') {
          // Inyectar Icono FontAwesome grande
          box.innerHTML = `
             <div class="flex flex-col items-center justify-center text-slate-300 py-6">
                <i class="fa-solid ${data.icon} text-6xl md:text-8xl mb-4 text-brand-blue/20"></i>
                <span class="text-xs font-mono uppercase tracking-widest text-brand-blue/40">Referencia Visual</span>
             </div>
          `;
       } else if (data.graphicType === 'img') {
          // Placeholder para imagen real (futuro)
          box.innerHTML = `<img src="${data.src}" class="max-h-64 object-contain mx-auto">`;
       }
    }

    // Estilos de Animación JS
    const styleSheet = document.createElement("style");
    styleSheet.innerText = `
      @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    `;
    document.head.appendChild(styleSheet);

  </script>
</body>
</html>
